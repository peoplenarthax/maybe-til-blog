[build]
  publish = "dist"
  command = "npm run build"

# Cache static assets for 1 year
[[headers]]
  for = "/assets/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

# Cache images for 1 year
[[headers]]
  for = "/*.{jpg,jpeg,png,gif,svg,webp,avif}"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

# Don't cache HTML pages - always fresh
[[headers]]
  for = "/*.html"
  [headers.values]
    Cache-Control = "public, max-age=0, must-revalidate"

# Don't cache the root index
[[headers]]
  for = "/"
  [headers.values]
    Cache-Control = "public, max-age=0, must-revalidate"

# Don't cache blog pages and reading pages
[[headers]]
  for = "/blog/*"
  [headers.values]
    Cache-Control = "public, max-age=0, must-revalidate"

[[headers]]
  for = "/about/*"
  [headers.values]
    Cache-Control = "public, max-age=0, must-revalidate"

[[headers]]
  for = "/projects/*"
  [headers.values]
    Cache-Control = "public, max-age=0, must-revalidate"

